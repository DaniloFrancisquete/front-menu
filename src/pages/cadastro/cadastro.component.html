<form [formGroup]="cadastroForm" (ngSubmit)="onSubmit()">
  <h2>Company Information</h2>
  <div formGroupName="company">
    <mat-form-field>
      <mat-label>Company Name</mat-label>
      <input matInput formControlName="name" />
    </mat-form-field>

    <div formGroupName="address">
      <h3>Address</h3>
      <mat-form-field>
        <mat-label>Street</mat-label>
        <input matInput formControlName="street" />
      </mat-form-field>
      <mat-form-field>
        <mat-label>Number</mat-label>
        <input matInput formControlName="number" />
      </mat-form-field>
      <mat-form-field>
        <mat-label>Neighborhood</mat-label>
        <input matInput formControlName="neighborhood" />
      </mat-form-field>
      <mat-form-field>
        <mat-label>City</mat-label>
        <input matInput formControlName="city" />
      </mat-form-field>
      <mat-form-field>
        <mat-label>State</mat-label>
        <input matInput formControlName="state" />
      </mat-form-field>
      <mat-form-field>
        <mat-label>Week</mat-label>
        <input matInput formControlName="week" />
      </mat-form-field>
      <mat-form-field>
        <mat-label>Time</mat-label>
        <input matInput formControlName="time" />
      </mat-form-field>
      <mat-form-field>
        <mat-label>Delivery</mat-label>
        <input matInput formControlName="delivery" />
      </mat-form-field>
      <mat-form-field>
        <mat-label>Order</mat-label>
        <input matInput formControlName="order" />
      </mat-form-field>
      <mat-form-field>
        <mat-label>More</mat-label>
        <input matInput formControlName="more" />
      </mat-form-field>
    </div>
  </div>

  <h2>Product Categories</h2>
  <button
    mat-raised-button
    color="primary"
    type="button"
    (click)="addCategory()"
  >
    Add Category
  </button>
  <div formArrayName="productsByCategory">
    <div formArrayName="categories">
      <div
        *ngFor="let category of categories.controls; let i = index"
        [formGroupName]="i"
      >
        <mat-form-field>
          <mat-label>Category Name</mat-label>
          <input matInput formControlName="name" />
        </mat-form-field>

        <div formArrayName="products">
          <h3>Products</h3>
          <button
            mat-raised-button
            color="primary"
            type="button"
            (click)="addProduct(i)"
          >
            Add Product
          </button>
          <div
            *ngFor="let product of getProducts(i).controls; let j = index"
            [formGroupName]="j"
          >
            <mat-form-field>
              <mat-label>Title</mat-label>
              <input matInput formControlName="title" />
            </mat-form-field>
            <mat-form-field>
              <mat-label>Description</mat-label>
              <input matInput formControlName="description" />
            </mat-form-field>
            <mat-form-field>
              <mat-label>Value</mat-label>
              <input matInput formControlName="value" />
            </mat-form-field>
            <mat-form-field>
              <mat-label>Image URL</mat-label>
              <input matInput formControlName="img" />
            </mat-form-field>
          </div>
        </div>
      </div>
    </div>
  </div>

  <button mat-raised-button color="accent" type="submit">Submit</button>
</form>
